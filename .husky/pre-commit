#!/usr/bin/env sh

# First, run lint-staged to auto-fix and format staged files
echo "🔧 Auto-fixing and formatting staged files..."
npx lint-staged

# Then run additional psake checks if PowerShell is available
if command -v pwsh &> /dev/null; then
  echo "🔍 Running additional psake checks..."
  pwsh -command "Invoke-Psake CheckFormatting"
fi

echo "✅ Pre-commit checks completed"
