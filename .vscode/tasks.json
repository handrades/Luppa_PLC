{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "CI",
      "type": "shell",
      "command": "pwsh",
      "args": ["-Command", "Invoke-psake CI"],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "windows": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "Path": "${workspaceFolder}/node_modules/.bin;${env:Path}"
          }
        }
      },
      "linux": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
          }
        }
      },
      "osx": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
          }
        }
      },
      "group": {
        "kind": "build",
        "isDefault": true
      },
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      },
      "problemMatcher": []
    },
    {
      "label": "Lint",
      "type": "shell",
      "command": "pwsh",
      "args": ["-Command", "Invoke-psake Lint"],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "windows": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "Path": "${workspaceFolder}/node_modules/.bin;${env:Path}"
          }
        }
      },
      "linux": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
          }
        }
      },
      "osx": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
          }
        }
      },
      "group": {
        "kind": "build"
      },
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      },
      "problemMatcher": []
    },
    {
      "label": "Test",
      "type": "shell",
      "command": "pwsh",
      "args": ["-Command", "Invoke-psake Test"],
      "options": {
        "cwd": "${workspaceFolder}",
        "env": {
          "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
        }
      },
      "windows": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "Path": "${workspaceFolder}/node_modules/.bin;${env:Path}"
          }
        }
      },
      "linux": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
          }
        }
      },
      "osx": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
          }
        }
      },
      "group": {
        "kind": "test",
        "isDefault": true
      },
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      },
      "problemMatcher": []
    },
    {
      "label": "Docker: Start All Services",
      "type": "shell",
      "command": "pwsh",
      "args": ["-Command", "Invoke-psake DockerUp"],
      "options": {
        "cwd": "${workspaceFolder}",
        "env": {
          "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}",
          "COMPOSE_PROJECT_NAME": "luppa-dev",
          "ALLOWED_ORIGINS": "http://localhost:3011,http://localhost:3010,http://localhost:3100,http://localhost:3000,http://localhost:5173,http://localhost:4173"
        }
      },
      "windows": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "Path": "${workspaceFolder}/node_modules/.bin;${env:Path}"
          }
        }
      },
      "linux": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
          }
        }
      },
      "osx": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
          }
        }
      },
      "group": "build",
      "isBackground": false,
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      },
      "problemMatcher": []
    },
    {
      "label": "Docker: Build All Services",
      "type": "shell",
      "command": "pwsh",
      "args": ["-Command", "Invoke-psake DockerBuild"],
      "options": {
        "cwd": "${workspaceFolder}",
        "env": {
          "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
        }
      },
      "windows": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "Path": "${workspaceFolder}/node_modules/.bin;${env:Path}"
          }
        }
      },
      "linux": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
          }
        }
      },
      "osx": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
          }
        }
      },
      "group": "build",
      "isBackground": false,
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      },
      "problemMatcher": []
    },
    {
      "label": "Docker: Stop All Services",
      "type": "shell",
      "command": "pwsh",
      "args": ["-Command", "Invoke-psake DockerDown"],
      "options": {
        "cwd": "${workspaceFolder}",
        "env": {
          "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
        }
      },
      "windows": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "Path": "${workspaceFolder}/node_modules/.bin;${env:Path}"
          }
        }
      },
      "linux": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
          }
        }
      },
      "osx": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
          }
        }
      },
      "group": "build",
      "isBackground": false,
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      },
      "problemMatcher": []
    },
    {
      "label": "Run API",
      "type": "shell",
      "command": "pwsh",
      "args": ["-Command", "Invoke-psake RunApi"],
      "options": {
        "cwd": "${workspaceFolder}",
        "env": {
          "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
        }
      },
      "windows": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "Path": "${workspaceFolder}/node_modules/.bin;${env:Path}"
          }
        }
      },
      "linux": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
          }
        }
      },
      "osx": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
          }
        }
      },
      "group": "build",
      "isBackground": false,
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      },
      "problemMatcher": []
    },
    {
      "label": "Run Web",
      "type": "shell",
      "command": "pwsh",
      "args": ["-Command", "Invoke-psake RunWeb"],
      "options": {
        "cwd": "${workspaceFolder}",
        "env": {
          "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
        }
      },
      "windows": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "Path": "${workspaceFolder}/node_modules/.bin;${env:Path}"
          }
        }
      },
      "linux": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
          }
        }
      },
      "osx": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
          }
        }
      },
      "group": "build",
      "isBackground": false,
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      },
      "problemMatcher": []
    },
    {
      "label": "Run PostgreSQL",
      "type": "shell",
      "command": "pwsh",
      "args": ["-Command", "Invoke-psake RunPostgres"],
      "options": {
        "cwd": "${workspaceFolder}",
        "env": {
          "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
        }
      },
      "windows": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "Path": "${workspaceFolder}/node_modules/.bin;${env:Path}"
          }
        }
      },
      "linux": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
          }
        }
      },
      "osx": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
          }
        }
      },
      "group": "build",
      "isBackground": false,
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      },
      "problemMatcher": []
    },
    {
      "label": "Run Redis",
      "type": "shell",
      "command": "pwsh",
      "args": ["-Command", "Invoke-psake RunRedis"],
      "options": {
        "cwd": "${workspaceFolder}",
        "env": {
          "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
        }
      },
      "windows": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "Path": "${workspaceFolder}/node_modules/.bin;${env:Path}"
          }
        }
      },
      "linux": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
          }
        }
      },
      "osx": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
          }
        }
      },
      "group": "build",
      "isBackground": false,
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      },
      "problemMatcher": []
    },
    {
      "label": "Run Nginx",
      "type": "shell",
      "command": "pwsh",
      "args": ["-Command", "Invoke-psake RunNginx"],
      "options": {
        "cwd": "${workspaceFolder}",
        "env": {
          "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
        }
      },
      "windows": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "Path": "${workspaceFolder}/node_modules/.bin;${env:Path}"
          }
        }
      },
      "linux": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
          }
        }
      },
      "osx": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
          }
        }
      },
      "group": "build",
      "isBackground": false,
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      },
      "problemMatcher": []
    },
    {
      "label": "Docker Status",
      "type": "shell",
      "command": "pwsh",
      "args": ["-Command", "Invoke-psake DockerStatus"],
      "options": {
        "cwd": "${workspaceFolder}",
        "env": {
          "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
        }
      },
      "windows": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "Path": "${workspaceFolder}/node_modules/.bin;${env:Path}"
          }
        }
      },
      "linux": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
          }
        }
      },
      "osx": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
          }
        }
      },
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      },
      "problemMatcher": []
    },
    {
      "label": "Docker Logs",
      "type": "shell",
      "command": "pwsh",
      "args": ["-Command", "Invoke-psake DockerLogs"],
      "options": {
        "cwd": "${workspaceFolder}",
        "env": {
          "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
        }
      },
      "windows": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "Path": "${workspaceFolder}/node_modules/.bin;${env:Path}"
          }
        }
      },
      "linux": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
          }
        }
      },
      "osx": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
          }
        }
      },
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      },
      "problemMatcher": []
    },
    {
      "label": "Docker Down",
      "type": "shell",
      "command": "pwsh",
      "args": ["-Command", "Invoke-psake DockerDown"],
      "options": {
        "cwd": "${workspaceFolder}",
        "env": {
          "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
        }
      },
      "windows": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "Path": "${workspaceFolder}/node_modules/.bin;${env:Path}"
          }
        }
      },
      "linux": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
          }
        }
      },
      "osx": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
          }
        }
      },
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      },
      "problemMatcher": []
    },
    {
      "label": "Docker Health",
      "type": "shell",
      "command": "pwsh",
      "args": ["-Command", "Invoke-psake DockerHealth"],
      "options": {
        "cwd": "${workspaceFolder}",
        "env": {
          "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
        }
      },
      "windows": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "Path": "${workspaceFolder}/node_modules/.bin;${env:Path}"
          }
        }
      },
      "linux": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
          }
        }
      },
      "osx": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}"
          }
        }
      },
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      },
      "problemMatcher": []
    },
    {
      "label": "ðŸš€ Start Full Application Stack",
      "type": "shell",
      "command": "pwsh",
      "args": [
        "-Command",
        "Write-Host 'ðŸš€ Starting Luppa PLC Full Application Stack...' -ForegroundColor Cyan; Invoke-psake DockerUp"
      ],
      "options": {
        "cwd": "${workspaceFolder}",
        "env": {
          "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}",
          "COMPOSE_PROJECT_NAME": "luppa-dev",
          "ALLOWED_ORIGINS": "http://localhost:3011,http://localhost:3010,http://localhost:3100,http://localhost:3000,http://localhost:5173,http://localhost:4173"
        }
      },
      "windows": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "Path": "${workspaceFolder}/node_modules/.bin;${env:Path}",
            "COMPOSE_PROJECT_NAME": "luppa-dev",
            "ALLOWED_ORIGINS": "http://localhost:3011,http://localhost:3010,http://localhost:3100,http://localhost:3000,http://localhost:5173,http://localhost:4173"
          }
        }
      },
      "linux": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}",
            "COMPOSE_PROJECT_NAME": "luppa-dev",
            "ALLOWED_ORIGINS": "http://localhost:3011,http://localhost:3010,http://localhost:3100,http://localhost:3000,http://localhost:5173,http://localhost:4173"
          }
        }
      },
      "group": {
        "kind": "build",
        "isDefault": false
      },
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": true,
        "panel": "new",
        "showReuseMessage": false,
        "clear": true
      },
      "problemMatcher": [],
      "detail": "Starts PostgreSQL, Redis, API, Web Frontend, and Nginx proxy. Access at http://localhost:3011"
    },
    {
      "label": "ðŸ›‘ Stop Full Application Stack",
      "type": "shell",
      "command": "pwsh",
      "args": [
        "-Command",
        "Write-Host 'ðŸ›‘ Stopping Luppa PLC Application Stack...' -ForegroundColor Yellow; Invoke-psake DockerDown"
      ],
      "options": {
        "cwd": "${workspaceFolder}",
        "env": {
          "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}",
          "COMPOSE_PROJECT_NAME": "luppa-dev"
        }
      },
      "windows": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "Path": "${workspaceFolder}/node_modules/.bin;${env:Path}",
            "COMPOSE_PROJECT_NAME": "luppa-dev"
          }
        }
      },
      "linux": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}",
            "COMPOSE_PROJECT_NAME": "luppa-dev"
          }
        }
      },
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      },
      "problemMatcher": []
    },
    {
      "label": "ðŸ“Š Show Application Status",
      "type": "shell",
      "command": "pwsh",
      "args": ["-Command", "Invoke-psake DockerStatus; Write-Host ''; Write-Host 'Application URLs:' -ForegroundColor Cyan; Write-Host '  Main App: http://localhost:3011' -ForegroundColor Green; Write-Host '  API Health: http://localhost:3010/health' -ForegroundColor Green; Write-Host '  Direct Frontend: http://localhost:3100' -ForegroundColor Green"],
      "options": {
        "cwd": "${workspaceFolder}",
        "env": {
          "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}",
          "COMPOSE_PROJECT_NAME": "luppa-dev"
        }
      },
      "windows": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "Path": "${workspaceFolder}/node_modules/.bin;${env:Path}",
            "COMPOSE_PROJECT_NAME": "luppa-dev"
          }
        }
      },
      "linux": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}",
            "COMPOSE_PROJECT_NAME": "luppa-dev"
          }
        }
      },
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      },
      "problemMatcher": []
    },
    {
      "label": "ðŸ”„ Restart Application Stack",
      "type": "shell",
      "command": "pwsh",
      "args": ["-Command", "Write-Host 'Restarting Application Stack...' -ForegroundColor Cyan; Invoke-psake DockerRestart"],
      "options": {
        "cwd": "${workspaceFolder}",
        "env": {
          "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}",
          "COMPOSE_PROJECT_NAME": "luppa-dev",
          "ALLOWED_ORIGINS": "http://localhost:3011,http://localhost:3010,http://localhost:3100,http://localhost:3000,http://localhost:5173,http://localhost:4173"
        }
      },
      "windows": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "Path": "${workspaceFolder}/node_modules/.bin;${env:Path}",
            "COMPOSE_PROJECT_NAME": "luppa-dev",
            "ALLOWED_ORIGINS": "http://localhost:3011,http://localhost:3010,http://localhost:3100,http://localhost:3000,http://localhost:5173,http://localhost:4173"
          }
        }
      },
      "linux": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "PATH": "${workspaceFolder}/node_modules/.bin:${env:PATH}",
            "COMPOSE_PROJECT_NAME": "luppa-dev",
            "ALLOWED_ORIGINS": "http://localhost:3011,http://localhost:3010,http://localhost:3100,http://localhost:3000,http://localhost:5173,http://localhost:4173"
          }
        }
      },
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      },
      "problemMatcher": []
    },
    {
      "label": "ðŸ”§ Setup Database (Migrations + Seed)",
      "type": "shell",
      "command": "pwsh",
      "args": [
        "-Command",
        "Write-Host 'Running database migrations and seeding...' -ForegroundColor Cyan; docker compose -f config/docker-compose.dev.yml -p luppa-dev exec -T api sh -c 'npm run migration:run && npm run seed'"
      ],
      "options": {
        "cwd": "${workspaceFolder}",
        "env": {
          "COMPOSE_PROJECT_NAME": "luppa-dev"
        }
      },
      "windows": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "COMPOSE_PROJECT_NAME": "luppa-dev"
          }
        }
      },
      "linux": {
        "options": {
          "cwd": "${workspaceFolder}",
          "env": {
            "COMPOSE_PROJECT_NAME": "luppa-dev"
          }
        }
      },
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      },
      "problemMatcher": [],
      "dependsOn": ["Docker: Start All Services"]
    }
  ]
}
