# Grafana Configuration for Luppa PLC Inventory System
# Production-ready configuration with security hardening

[default]
# Default admin credentials (change in production!)
admin_user = admin
admin_password = ${GRAFANA_ADMIN_PASSWORD}

[paths]
# Paths for data storage
data = /var/lib/grafana
logs = /var/log/grafana
plugins = /var/lib/grafana/plugins
provisioning = /etc/grafana/provisioning

[server]
# Server settings
protocol = http
http_port = 3000
domain = ${GRAFANA_DOMAIN}
root_url = %(protocol)s://%(domain)s/grafana/
serve_from_sub_path = true
router_logging = false
static_root_path = public
enable_gzip = true

# Security
cookie_secure = false
cookie_samesite = strict

[security]
# Security settings
admin_password = ${GRAFANA_ADMIN_PASSWORD}
secret_key = ${GRAFANA_SECRET_KEY}
login_remember_days = 7
cookie_username = grafana_user
cookie_remember_name = grafana_remember
disable_gravatar = true
data_source_proxy_whitelist =
disable_brute_force_login_protection = false
cookie_samesite = strict

[users]
# User management
allow_sign_up = false
allow_org_create = false
auto_assign_org = true
auto_assign_org_id = 1
auto_assign_org_role = Viewer
verify_email_enabled = false
login_hint = email or username
password_hint = password
default_theme = dark

[auth]
# Authentication settings
login_cookie_name = grafana_session
login_maximum_inactive_lifetime_days = 7
login_maximum_lifetime_days = 30
token_rotation_interval_minutes = 10
disable_login_form = false
disable_signout_menu = false
signout_redirect_url =
oauth_auto_login = false
oauth_state_cookie_max_age = 600

[auth.anonymous]
# Anonymous authentication
enabled = false
org_name = Main Org.
org_role = Viewer
hide_version = true

[auth.basic]
# Basic authentication
enabled = true

[auth.proxy]
# Proxy authentication (disabled for security)
enabled = false

[analytics]
# Analytics settings (disabled for air-gapped environments)
reporting_enabled = false
check_for_updates = false
google_analytics_ua_id =
google_tag_manager_id =

[log]
# Logging configuration
mode = console file
level = info
filters =

[log.console]
level = info
format = console

[log.file]
level = info
format = text
log_rotate = true
max_lines = 1000000
max_size_shift = 28
daily_rotate = true
max_days = 7

[metrics]
# Metrics settings
enabled = true
interval_seconds = 10

[grafana_net]
url = https://grafana.net

[tracing.jaeger]
# Distributed tracing (disabled by default)
address =
always_included_tag =
sampler_type =
sampler_param =
sampling_server_url =

[external_image_storage]
# External image storage (disabled)
provider =

[alerting]
# Alerting configuration
enabled = true
execute_alerts = true
error_or_timeout = alerting
nodata_or_nullvalues = no_data
concurrent_render_limit = 5

[unified_alerting]
# Unified alerting (Grafana 8+)
enabled = true
disabled_orgs =
admin_config_poll_interval = 60s
alertmanager_config_poll_interval = 60s
ha_listen_address = "${POD_IP:-}:9094"
ha_advertise_address = "${POD_IP:-}:9094"
ha_peers =
ha_peer_timeout = 15s
ha_gossip_interval = 200ms
ha_push_pull_interval = 60s
max_attempts = 3
min_interval = 10s

[smtp]
# SMTP settings (configure for alert notifications)
enabled = false
host = localhost:587
user =
password =
cert_file =
key_file =
skip_verify = false
from_address = admin@grafana.localhost
from_name = Grafana
ehlo_identity =

[panels]
# Panel settings
disable_sanitize_html = false
enable_alpha = false

[plugins]
# Plugin settings
enable_alpha = false
app_tls_skip_verify_insecure = false
marketplace_url = https://grafana.com/grafana/plugins/

[enterprise]
# Enterprise features (not applicable for OSS)
license_path =

[feature_toggles]
# Feature toggles
enable = 

[date_formats]
# Date format settings
full_date = MMM Do, YYYY
interval_second = HH:mm:ss
interval_minute = HH:mm
interval_hour = MM/DD HH:mm
interval_day = MM/DD
interval_month = YYYY-MM
interval_year = YYYY
use_browser_locale = false
default_timezone = browser

[expressions]
# Expression settings
enabled = true