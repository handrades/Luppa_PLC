# Configuration Management

This directory contains all linting and build configurations for the project, designed to ensure consistency between local development (psake) and CI/CD (GitHub Actions).

## üìÅ Configuration Files

### Core Configurations

- **`lint-config.json`** - Master configuration file that defines all linting tools and their settings
- **`.yamllint.yml`** - YAML linting rules with auto-generated file exclusions
- **`.markdownlint.json`** - Markdown linting rules for documentation
- **`.eslintrc.cjs`** - ESLint configuration for TypeScript/JavaScript
- **`.prettierrc`** - Code formatting rules
- **`.editorconfig`** - Editor configuration for consistent formatting
- **`jest.config.js`** - Jest testing configuration
- **`tsconfig.json`** - TypeScript compiler configuration

## üîÑ Configuration Synchronization

### Shared Configuration System

The `lint-config.json` file serves as the single source of truth for all linting configurations. This ensures that both local psake scripts and GitHub Actions use identical settings.

### Sync Script

Use the sync script to update configurations:

```powershell
# Update both GitHub Actions and psake (when implemented)
.\infrastructure\scripts\sync-lint-configs.ps1 -All

# Update only GitHub Actions workflow
.\infrastructure\scripts\sync-lint-configs.ps1 -UpdateGitHubWorkflow

# Update only psake tasks (coming soon)
.\infrastructure\scripts\sync-lint-configs.ps1 -UpdatePsake
```

## üéØ Benefits of Unified Configuration

### ‚úÖ Consistency

- **Identical rules** between local development and CI/CD
- **No configuration drift** between environments
- **Predictable results** - what passes locally will pass in CI

### ‚ö° Maintainability

- **Single source of truth** in `lint-config.json`
- **Easy updates** - change config once, sync everywhere
- **Version controlled** configuration changes

### üîç Transparency

- **Clear rule definitions** with comments explaining choices
- **Documented exclusions** for auto-generated files
- **Traceable changes** through git history

## üõ†Ô∏è Local Development

Run all linting checks:

```powershell
# Run all linting and tests
Invoke-psake

# Run specific linters
Invoke-psake Markdown
Invoke-psake Json  
Invoke-psake Yaml
Invoke-psake TypeScript
Invoke-psake Test
```

## üöÄ CI/CD Integration

The GitHub Actions workflow is automatically generated from the shared configuration and includes:
- ‚úÖ Markdown linting with consistent rules
- ‚úÖ JSON syntax validation
- ‚úÖ YAML linting with auto-generated file exclusions
- ‚úÖ TypeScript/JavaScript linting via ESLint
- ‚úÖ Workspace configuration testing

## üîß Configuration Details

### Auto-Generated File Handling

Files like `pnpm-lock.yaml` are automatically excluded from strict linting rules since they're generated by package managers and shouldn't be manually edited.

### Line Length Limits

- **YAML/JSON**: 150 characters (accommodates CI/CD files)
- **Markdown**: 120 characters (documentation readability)
- **TypeScript/JavaScript**: Handled by Prettier

### Rule Philosophy

- **Practical over pedantic** - rules should help, not hinder development
- **Consistent with ecosystem** - follows community standards where possible
- **Documented exceptions** - all deviations from defaults are explained
